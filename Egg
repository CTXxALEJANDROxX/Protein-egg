local Players = game:GetService("Players")
local VirtualInputManager = game:GetService("VirtualInputManager")

local player = Players.LocalPlayer
local backpack = player:WaitForChild("Backpack")
local character = player.Character or player.CharacterAdded:Wait()

local itemNombre = "Protein egg"

local function usarProteinEgg()
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    if not humanoid then return end

    local herramientaActual = humanoid:FindFirstChildOfClass("Tool")
    local nombreAnterior = herramientaActual and herramientaActual.Name

    local huevo = backpack:FindFirstChild(itemNombre)
    if not huevo then
        warn("[AUTO PROTEIN EGG] No se encontró el huevo.")
        return
    end

    -- Equipar el huevo
    humanoid:EquipTool(huevo)
    task.wait(0.5)

    -- Simular clic
    VirtualInputManager:SendMouseButtonEvent(0, 0, 0, true, game, 0)
    VirtualInputManager:SendMouseButtonEvent(0, 0, 0, false, game, 0)
    print("[AUTO PROTEIN EGG] Se usó el huevo.")

    task.wait(1)

    -- Re-equipar herramienta anterior
    if nombreAnterior and backpack:FindFirstChild(nombreAnterior) then
        humanoid:EquipTool(backpack:FindFirstChild(nombreAnterior))
        print("[AUTO PROTEIN EGG] Herramienta re-equipada.")
    end
end

-- Bucle cada 30 minutos
task.spawn(function()
    while true do
        usarProteinEgg()
        task.wait(1800) -- 30 minutos
    end
end)
